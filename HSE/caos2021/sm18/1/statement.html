<html><head><meta charset="utf-8"/></head>
<body>
<table border="1"><tr><td><b>Time limit:</b></td><td><tt>1 s</tt></td></tr>
<tr><td><b>Real time limit:</b></td><td><tt>5 s</tt></td></tr>
<tr><td><b>Memory limit:</b></td><td><tt>64M</tt></td></tr>
</table>
<h3>Problem sm18-1: asm/atomic/spinlock</h3>
<p>Реализуйте спинлок.</p>
<p>Напишите на языке ассемблера x86 функции с такими сигнатурами:</p>
<pre>void spin_lock(volatile int *s);
void spin_unlock(volatile int *s);</pre>
<p>Пользователи будут вызывать эти функции, чтобы создать в коде
        критическую секцию с активным ожиданием:</p>
<pre>int s = 0;
...
spin_lock(&amp;s);
// critical section here
spin_unlock(&amp;s);</pre>
<p>Тестирующая программа запускает с помощью <code>fork()</code> 10 процессов,
    которые конкурируют за спинлок в общем участке памяти.</p>
<p>(Идея: попробуйте сделать две реализации, одну с помощью
    инструкции xchg, а другую с помощью cmpxchg, и сравните ощущения.)</p>
</body></html>
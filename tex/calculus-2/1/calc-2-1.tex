\documentclass[11pt]{article}

\makeatletter
\newcommand{\skipitems}[1]{%
	\addtocounter{\@enumctr}{#1}%
}
\makeatother

\newcommand{\numpy}{{\tt numpy}}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{graphics}
\usepackage{amsthm,amstext,amsfonts,bm,amssymb}
\usepackage{graphicx}
\graphicspath{ {./images/} }
\usepackage{indentfirst}
\setlength{\parindent}{5ex}
\setlength{\parskip}{1em}
\usepackage[utf8x]{inputenc} 
\usepackage[russian]{babel}
\topmargin -.5in
\textheight 9in
\oddsidemargin -.25in
\evensidemargin -.25in
\textwidth 7in


\begin{document}
	
	\author{Биктимиров Данила, группа 204}
	\title{ДЗ 1}
	\date{}
	\maketitle
	
	\medskip
	
	\begin{enumerate}
		
		\item Общее число расположений равно $(2n+k)!$. Подсчитаем, в скольких случаях священники не сидят рядом. Рассмотрим такую перестановку, удовлетворяющей условию. Вычеркнем из неё номера, на которых сидят священники. Получаем перестановку на множестве всех остальных, которая может быть любой. Таких перестановок имеется $(n+k)!$. Теперь вернём священников на те места, где они были. Поскольку они не сидят рядом, все священники попадут на разные места между остальными $n+k$ участниками. Таких мест $n+k+1$: до первого, между первым и вторым, $...$ , после последнего. На эти места можно распределить священников $Ann+k+1$ способами. Но мы при этом должны учесть, что два места -- начальное и последнее, не должны быть заняты одновременно. Значит, надо вычесть число способов такой рассадки. На начальное место выбираем одного из $n$, на последнее -- одного из $n−1$ оставшихся, а остальных распределяем $An−2n+k−1$ способами.
		
		Получается $(n+k)!(A^n_{n+k+1}−n(n−1)A^{n−2}_{n+k−1})=(n+k)!(\frac{(n+k+1)!}{(k+1)!}−\frac{n(n−1)(n+k−1)!}{(k+1)!})$. Сокращая, имеем $\frac{(n+k)!(n+k−1)!}{k!}(2n+k)$. Деля на общее число расположений, имеем вероятность $\frac{(n+k)!(n+k−1)!}{(2n+k−1)!k!}$.
		\item
		\begin{enumerate}
			\item Выбираем из любого столбца клетку для первой ладьи. Сделать это можно всего $n$ способами. Тогда для второй ладьи надо выбирать клетку уже из другого столбца и $n-1$ способами (чтобы не было пересечений по строке) и т.д. Всего будет $n!$ благоприятствующих исходов. А всего возможных исходов ${n^2 \choose n}$. Ответ $\frac{n!}{{n^2 \choose n}}$
			\item В этой задаче возникает классическая "задача о беспорядках". Тут вместо n! в числителе будет $b(n) = n!(\frac{1}{2!} - \frac{1}{3!} + ... + \frac{-1^n}{n!})$. Это делается через формулу включений и исключений. 
			\item В этом случае можно ${n \choose t}$ выбрать места для ладей на диагонали, а потом домножить на $b(n-t)$.
		\end{enumerate}
		
	\end{enumerate}
\end{document}